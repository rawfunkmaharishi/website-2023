---
const { data } = Astro.props;
const elementId = data.id + "-close";
---

<dialog id={data.id} class="player">
  <iframe src={data.url}></iframe>
  <a href="#" id={elementId} class="close" title="Close">âœ•</a>
</dialog>


<script define:vars={{ id: data.id }}>
  document.getElementById(id + "-close").addEventListener("click", () => {
    document.getElementById(id).close();
  });
</script>

<style>
  .close {
    position: absolute;
    bottom: 1rem;
    right: 2rem;
    font-size: 1.5rem;
  }

  dialog.player {
    position: fixed;
    width: 70%;
    height: 70%;
    margin: auto;
    border: none;
    overflow: hidden;
    background: rgb(0, 0, 0, 0.9);
    padding: 1rem;
    border-radius: 1rem;
  }

  iframe {
    width: 100%;
    height: 90%;
    border: none;
  }
/* TODO invert these for mobile-first */
  @media only screen and (max-width: 600px) {
    dialog.player {
      width: 100%;
      height: 100%
    }
  }
</style>

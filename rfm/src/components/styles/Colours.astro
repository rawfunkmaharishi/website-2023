---
import { colours, palettes } from "../../conf/palettes/palette";

function rgbise(triple: Array<number>) {
  return "rgb(" + triple.join(", ") + ")";
}

var bloc = "";

for (var palette in palettes) {
  bloc += "@media (prefers-color-scheme: ";
  bloc += palette;
  bloc += ") {\n";

  bloc += "  :root {\n";

  for (var key in palettes[palette]) {
    bloc += "    --colour-";
    bloc += key;
    bloc += ": ";
    bloc += rgbise(colours[palettes[palette][key]]);
    bloc += ";\n";
  }

  bloc += "  }\n";

  bloc += "}\n";
}
---

<style set:html={bloc}></style>

---
import Layout from "../../layouts/Layout.astro";

export async function getStaticPaths() {
  const response = await fetch("https://json.rawfunkmaharishi.uk/gigs.json");
  const data = await response.json();

  return data.map((gig) => {
    return {
      params: {
        gig: gig.offSchema.nameBits.join("/")
      },
      props: { gig },
    };
  });
}

const { gig } = Astro.props;
---

<Layout>
  {gig.location.name}
</Layout>
